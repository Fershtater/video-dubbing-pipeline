# Индекс документации

Обзор всей документации по Video Dubbing Pipeline (Dubber).

## Основная документация

### [../README.md](../README.md)

**Главная страница проекта**

- Быстрый старт
- Обзор возможностей
- Примеры использования
- Конфигурация и устранение неполадок

## Документация по асинхронной обработке

### [ASYNC_GUIDE.md](ASYNC_GUIDE.md)

**Руководство по асинхронной обработке**

- Сравнение производительности
- Настройки
- Рекомендации
- Устранение неполадок
- Async vs sync

### [API_ASYNC.md](API_ASYNC.md)

**Справочник по async API**

- Сигнатуры функций
- Параметры и возвращаемые значения
- Примеры кода
- Обработка ошибок
- Паттерны интеграции

### [ASYNC_EXAMPLES.md](ASYNC_EXAMPLES.md)

**Примеры и сценарии**

- Базовые примеры
- Продвинутая интеграция
- Тестирование производительности
- Обработка ошибок
- Рекомендации

## Мультиязычность

### [MULTILINGUAL_GUIDE.md](MULTILINGUAL_GUIDE.md)

**Руководство по мультиязычному дублированию**

- 99+ языков, автоопределение языка
- Перевод на английский (GPT)
- Параметры SOURCE_LANGUAGE, TRANSLATE, TRANSLATION_MODEL
- Примеры и устранение неполадок

### [MULTILINGUAL_SUMMARY.md](MULTILINGUAL_SUMMARY.md)

**Краткое описание реализации**

- Реализованные возможности
- Новые и изменённые файлы
- Поддерживаемые языки и производительность

## Краткий справочник

### Команды

| Команда                  | Описание                    | Когда использовать      |
| ------------------------ | --------------------------- | ----------------------- |
| `make full`              | Полный синхронный конвейер  | Обычная обработка       |
| `make full-async`        | Полный асинхронный конвейер | **Быстрая обработка**   |
| `make synth-async`       | Только асинхронный синтез   | Когда prep уже выполнен |
| `make debug-synth-async` | Режим отладки async         | Отладка                 |

### Конфигурация

| Переменная       | По умолчанию          | Описание                        |
| ---------------- | --------------------- | ------------------------------- |
| `MAX_CONCURRENT` | 5                     | Макс. параллельных TTS-запросов |
| `VIDEO`          | media/1.mp4           | Входное видео                   |
| `WORKDIR`        | .work/lesson          | Рабочая директория              |
| `OUTPUT`         | out/lesson_dubbed.mp4 | Выходное видео                  |
| `TTS_PROVIDER`   | openai                | Провайдер TTS                   |
| `VOICE`          | onyx                  | Голос TTS                       |

### Производительность

| Режим       | Ускорение | Когда использовать       |
| ----------- | --------- | ------------------------ |
| Sync        | 1×        | Отладка, короткие ролики |
| Async (3×)  | 3.6×      | Умеренная нагрузка       |
| Async (5×)  | 4.9×      | **Рекомендуется**        |
| Async (10×) | 6.1×      | Высокая нагрузка         |

## Быстрый старт

### 1. Первоначальная настройка

```bash
make setup
echo "OPENAI_API_KEY=ваш_ключ" > .env
```

### 2. Базовое использование

```bash
make full-async VIDEO=media/ваше_видео.mp4
# или по шагам:
make prep VIDEO=media/ваше_видео.mp4
make synth-async VIDEO=media/ваше_видео.mp4
make youtube
```

### 3. Настройки

```bash
# Высокая производительность
make full-async VIDEO=media/видео.mp4 MAX_CONCURRENT=10

# Умеренная нагрузка
make full-async VIDEO=media/видео.mp4 MAX_CONCURRENT=3
```

## Устранение неполадок

- **«Rate limit exceeded»** — уменьшите `MAX_CONCURRENT`, проверьте квоту API.
- **«Connection timeout»** — проверьте интернет, уменьшите конкурентность.
- **Прогресс не отображается** — установите `PYTHONUNBUFFERED=1`, проверьте терминал.

## Структура проекта

```
src/
├── README.md                 # Главная документация
├── LICENSE                   # MIT
├── docs/                     # Документация
│   ├── README.md             # Этот индекс
│   ├── ASYNC_GUIDE.md        # Руководство по async
│   ├── API_ASYNC.md          # Справочник API async
│   ├── ASYNC_EXAMPLES.md     # Примеры async
│   ├── MULTILINGUAL_GUIDE.md # Мультиязычность
│   ├── MULTILINGUAL_SUMMARY.md # Краткое описание мультиязычности
│   └── DOCS_INDEX.md         # Этот файл
├── dubber/                   # Исходный код
│   ├── cli.py / cli_async.py
│   ├── tts.py / tts_async.py
│   ├── timeline.py / timeline_async.py
│   └── ...
└── Makefile                  # Автоматизация
```
