# üåç –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ–º—É –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é

–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ —Å –ª—é–±–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
make full VIDEO=media/foreign_video.mp4 TRANSLATE=true

# –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —è–∑—ã–∫–∞
make full VIDEO=media/russian_video.mp4 SOURCE_LANGUAGE=ru TRANSLATE=true

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–±—ã—Å—Ç—Ä–µ–µ)
make full-async VIDEO=media/german_video.mp4 SOURCE_LANGUAGE=de TRANSLATE=true
```

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

**99+ —è–∑—ã–∫–æ–≤**, –≤ —Ç–æ–º —á–∏—Å–ª–µ:

| –Ø–∑—ã–∫          | –ö–æ–¥  | –ê–≤—Ç–æ | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è | –ü–µ—Ä–µ–≤–æ–¥ |
| ------------- | ---- | ---- | ------------ | ------- |
| –†—É—Å—Å–∫–∏–π       | `ru` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ù–µ–º–µ—Ü–∫–∏–π      | `de` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π   | `fr` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ò—Å–ø–∞–Ω—Å–∫–∏–π     | `es` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π   | `it` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ü–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–π | `pt` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –Ø–ø–æ–Ω—Å–∫–∏–π      | `ja` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ö–æ—Ä–µ–π—Å–∫–∏–π     | `ko` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ö–∏—Ç–∞–π—Å–∫–∏–π     | `zh` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ê—Ä–∞–±—Å–∫–∏–π      | `ar` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –•–∏–Ω–¥–∏         | `hi` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π    | `uk` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ü–æ–ª—å—Å–∫–∏–π      | `pl` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—Å–∫–∏–π | `nl` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –®–≤–µ–¥—Å–∫–∏–π      | `sv` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ù–æ—Ä–≤–µ–∂—Å–∫–∏–π    | `no` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –î–∞—Ç—Å–∫–∏–π       | `da` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –§–∏–Ω—Å–∫–∏–π       | `fi` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –¢—É—Ä–µ—Ü–∫–∏–π      | `tr` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –ò–≤—Ä–∏—Ç         | `he` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –¢–∞–π—Å–∫–∏–π       | `th` | ‚úÖ   | ‚úÖ           | ‚úÖ      |
| –í—å–µ—Ç–Ω–∞–º—Å–∫–∏–π   | `vi` | ‚úÖ   | ‚úÖ           | ‚úÖ      |

## üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### Makefile

```bash
SOURCE_LANGUAGE=ru      # –∏—Å—Ö–æ–¥–Ω—ã–π —è–∑—ã–∫ (–ø—É—Å—Ç–æ = –∞–≤—Ç–æ)
TRANSLATE=true          # –≤–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
TRANSLATION_MODEL=gpt-4o-mini
```

### CLI

```bash
--source-language ru
--translate
--translation-model gpt-4o-mini
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã

### 1. –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞

```bash
make full VIDEO=media/unknown_language.mp4 TRANSLATE=true
```

### 2. –†—É—Å—Å–∫–∏–π ‚Üí –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

```bash
make full VIDEO=media/russian_tutorial.mp4 \
  SOURCE_LANGUAGE=ru \
  TRANSLATE=true \
  OUTPUT=out/russian_tutorial_english.mp4
```

### 3. –ù–µ–º–µ—Ü–∫–∏–π ‚Üí –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (async)

```bash
make full-async VIDEO=media/german_presentation.mp4 \
  SOURCE_LANGUAGE=de \
  TRANSLATE=true \
  MAX_CONCURRENT=8
```

### 4. –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —Å GPT-4

```bash
make full VIDEO=media/french_course.mp4 \
  SOURCE_LANGUAGE=fr \
  TRANSLATE=true \
  TRANSLATION_MODEL=gpt-4o
```

### 5. –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```bash
for lang in ru de fr es; do
  make full VIDEO=media/${lang}_video.mp4 \
    SOURCE_LANGUAGE=${lang} \
    TRANSLATE=true \
    OUTPUT=out/${lang}_video_english.mp4
done
```

## üîÑ –≠—Ç–∞–ø—ã –∫–æ–Ω–≤–µ–π–µ—Ä–∞

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞** ‚Äî Whisper API –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `SOURCE_LANGUAGE`
2. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** ‚Äî Whisper API –∏–ª–∏ faster-whisper (–º–æ–¥–µ–ª—å `base`)
3. **–ü–µ—Ä–µ–≤–æ–¥** ‚Äî GPT, –ø–∞–∫–µ—Ç–∞–º–∏, —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Ç–µ—Ä–º–∏–Ω–æ–≤
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚Äî —Ç–∞–π–º–∏–Ω–≥ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è

## üõ†Ô∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

- `detect_language()` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —á–µ—Ä–µ–∑ Whisper API
- `translate_segments_to_english()` ‚Äî –ø–∞–∫–µ—Ç–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–∞–π–º–∏–Ω–≥–∞
- `transcribe_local_faster_whisper()` ‚Äî –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å `base`

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —è–∑—ã–∫** ‚Äî –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- **–¢–æ—á–Ω–æ—Å—Ç—å** ‚Äî –∑–∞–¥–∞–≤–∞–π—Ç–µ `SOURCE_LANGUAGE` —è–≤–Ω–æ
- **–°–∫–æ—Ä–æ—Å—Ç—å** ‚Äî `full-async` –∏ `MAX_CONCURRENT`
- **–ö–∞—á–µ—Å—Ç–≤–æ** ‚Äî `gpt-4o-mini` (–±—ã—Å—Ç—Ä–æ) –∏–ª–∏ `gpt-4o` (–≤–∞–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç)

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

1. **–Ø–∑—ã–∫ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è** ‚Äî —É–∫–∞–∂–∏—Ç–µ `SOURCE_LANGUAGE=ru` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–æ–¥).
2. **–ü–ª–æ—Ö–æ–π –ø–µ—Ä–µ–≤–æ–¥** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `TRANSLATION_MODEL=gpt-4o`.
3. **–ú–µ–¥–ª–µ–Ω–Ω–æ** ‚Äî `make full-async MAX_CONCURRENT=10`.
4. **–†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω** ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã —Å–µ–≥–º–µ–Ω—Ç–æ–≤, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `debug-synth`.

**–°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:**

- ¬´Translation requires OpenAI client¬ª ‚Äî –∑–∞–¥–∞–π—Ç–µ `OPENAI_API_KEY`
- ¬´Language detection failed¬ª ‚Äî –∑–∞–¥–∞–π—Ç–µ `SOURCE_LANGUAGE` –≤—Ä—É—á–Ω—É—é
- ¬´Transcription returned empty text¬ª ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ —Ñ–æ—Ä–º–∞—Ç –∞—É–¥–∏–æ

## üìä –í—Ä–µ–º—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å (–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ)

- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞: 5‚Äì10 —Å
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: 1‚Äì2√ó –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ
- –ü–µ—Ä–µ–≤–æ–¥: 0.5‚Äì1√ó –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ
- TTS: 0.3‚Äì0.5√ó –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ

- Whisper: $0.006/–º–∏–Ω
- GPT-–ø–µ—Ä–µ–≤–æ–¥: $0.60/1M —Ç–æ–∫–µ–Ω–æ–≤
- TTS: $0.03/–º–∏–Ω

## üìö –°—Å—ã–ª–∫–∏

- [OpenAI Whisper](https://platform.openai.com/docs/guides/speech-to-text)
- [OpenAI GPT API](https://platform.openai.com/docs/api-reference)
- [faster-whisper](https://github.com/SYSTRAN/faster-whisper)
- [–Ø–∑—ã–∫–∏ Whisper](https://github.com/openai/whisper#available-models-and-languages)
